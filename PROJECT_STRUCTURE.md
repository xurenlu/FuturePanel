# FuturePanel é¡¹ç›®ç»“æ„æ–‡æ¡£

è¿™ä¸ªæ–‡æ¡£è®°å½•äº† FuturePanel é¡¹ç›®çš„å®Œæ•´æ–‡ä»¶ç»“æ„å’Œæ¯ä¸ªæ–‡ä»¶çš„ç”¨é€”ã€‚

## ğŸ“ é¡¹ç›®æ¦‚è§ˆ

FuturePanel æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ—¥å¿—ç›‘æ§å’Œé¢æ¿ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…å«ä»¥ä¸‹ä¸»è¦ç»„ä»¶ï¼š

- **FuturePanel (macOS åº”ç”¨)**: SwiftUI ç¼–å†™çš„ macOS åŸç”Ÿåº”ç”¨
- **Server (Go æœåŠ¡å™¨)**: æ—¥å¿—æ¥æ”¶å’Œå¤„ç†çš„åç«¯æœåŠ¡  
- **JSLWatcher (Linux æœåŠ¡)**: Linux ç¯å¢ƒä¸‹çš„æ—¥å¿—æ–‡ä»¶ç›‘æ§å’Œè½¬å‘æœåŠ¡

## ğŸ—‚ï¸ ç›®å½•ç»“æ„

```
FuturePanel/
â”œâ”€â”€ FuturePanel/                    # macOS åº”ç”¨ä¸»ç›®å½•
â”œâ”€â”€ FuturePanelTests/              # macOS åº”ç”¨æµ‹è¯•
â”œâ”€â”€ FuturePanelUITests/            # macOS åº”ç”¨ UI æµ‹è¯•
â”œâ”€â”€ server/                        # Go åç«¯æœåŠ¡å™¨
â”œâ”€â”€ jslwatcher/                    # Linux æ—¥å¿—ç›‘æ§æœåŠ¡
â”œâ”€â”€ .github/                       # GitHub Actions å·¥ä½œæµ
â”œâ”€â”€ FuturePanel.xcodeproj/         # Xcode é¡¹ç›®æ–‡ä»¶
â”œâ”€â”€ æ—¥å¿—é¢æ¿éœ€æ±‚1.0.md              # é¡¹ç›®éœ€æ±‚æ–‡æ¡£
â””â”€â”€ PROJECT_STRUCTURE.md           # æœ¬æ–‡æ¡£
```

## ğŸ“± FuturePanel (macOS åº”ç”¨)

### æ ¸å¿ƒæ–‡ä»¶

| æ–‡ä»¶è·¯å¾„ | ç”¨é€” | è¡Œæ•°é™åˆ¶ |
|----------|------|----------|
| `FuturePanel/FuturePanelApp.swift` | åº”ç”¨ç¨‹åºå…¥å£ï¼ŒApp ç”Ÿå‘½å‘¨æœŸç®¡ç† | <500 |
| `FuturePanel/AppDelegate.swift` | åº”ç”¨å§”æ‰˜ï¼Œå¤„ç†ç³»ç»Ÿçº§äº‹ä»¶ | <300 |
| `FuturePanel/ContentView.swift` | ä¸»ç•Œé¢è§†å›¾ï¼Œæ—¥å¿—æ˜¾ç¤ºå’Œç®¡ç† | <800 |

### åŠŸèƒ½æ¨¡å—

| æ–‡ä»¶è·¯å¾„ | ç”¨é€” | è¡Œæ•°é™åˆ¶ |
|----------|------|----------|
| `FuturePanel/SettingsView.swift` | è®¾ç½®ç•Œé¢ï¼Œé…ç½®ç®¡ç† | <500 |
| `FuturePanel/SettingsStore.swift` | è®¾ç½®æ•°æ®å­˜å‚¨å’Œç®¡ç† | <400 |
| `FuturePanel/Theme.swift` | ä¸»é¢˜å’Œæ ·å¼å®šä¹‰ | <300 |
| `FuturePanel/Highlighter.swift` | è¯­æ³•é«˜äº®å’Œæ–‡æœ¬æ¸²æŸ“ | <600 |
| `FuturePanel/TemplateEngine.swift` | æ¨¡æ¿å¼•æ“ï¼Œæ—¥å¿—æ ¼å¼åŒ– | <800 |

### æœåŠ¡ç»„ä»¶

| æ–‡ä»¶è·¯å¾„ | ç”¨é€” | è¡Œæ•°é™åˆ¶ |
|----------|------|----------|
| `FuturePanel/WebSocketClient.swift` | WebSocket å®¢æˆ·ç«¯ï¼Œä¸æœåŠ¡å™¨é€šä¿¡ | <600 |
| `FuturePanel/LogService.swift` | æ—¥å¿—å¤„ç†æœåŠ¡ | <500 |
| `FuturePanel/LogModels.swift` | æ—¥å¿—æ•°æ®æ¨¡å‹å®šä¹‰ | <400 |

### èµ„æºæ–‡ä»¶

| æ–‡ä»¶è·¯å¾„ | ç”¨é€” |
|----------|------|
| `FuturePanel/Assets.xcassets/` | åº”ç”¨å›¾æ ‡ã€å›¾ç‰‡ç­‰èµ„æº |
| `FuturePanel/Assets.xcassets/AppIcon.appiconset/` | åº”ç”¨å›¾æ ‡é›† |
| `FuturePanel/Assets.xcassets/AccentColor.colorset/` | ä¸»é¢˜è‰²å®šä¹‰ |

## ğŸ–¥ï¸ Server (Go åç«¯æœåŠ¡)

### æ ¸å¿ƒæ–‡ä»¶

| æ–‡ä»¶è·¯å¾„ | ç”¨é€” | è¡Œæ•°é™åˆ¶ |
|----------|------|----------|
| `server/main.go` | æœåŠ¡å™¨ä¸»ç¨‹åºå…¥å£ | <500 |
| `server/go.mod` | Go æ¨¡å—ä¾èµ–ç®¡ç† | <50 |
| `server/go.sum` | ä¾èµ–ç‰ˆæœ¬é”å®š | è‡ªåŠ¨ç”Ÿæˆ |

### åŠŸèƒ½ç‰¹æ€§

- WebSocket æœåŠ¡å™¨ï¼Œç›‘å¬ç«¯å£ 8080
- æ—¥å¿—æ•°æ®æ¥æ”¶å’Œå¤„ç†
- å®æ—¶æ•°æ®è½¬å‘åˆ°å®¢æˆ·ç«¯
- æ”¯æŒå¤šå®¢æˆ·ç«¯è¿æ¥

## ğŸ” JSLWatcher (Linux æ—¥å¿—ç›‘æ§æœåŠ¡)

### æ ¸å¿ƒæ¶æ„

| æ–‡ä»¶è·¯å¾„ | ç”¨é€” | è¡Œæ•°é™åˆ¶ |
|----------|------|----------|
| `jslwatcher/go.mod` | Go æ¨¡å—ä¾èµ–ç®¡ç† | <50 |
| `jslwatcher/cmd/jslwatcher/main.go` | ä¸»ç¨‹åºå…¥å£ | <400 |

### å†…éƒ¨æ¨¡å—

| æ–‡ä»¶è·¯å¾„ | ç”¨é€” | è¡Œæ•°é™åˆ¶ |
|----------|------|----------|
| `jslwatcher/internal/config/config.go` | é…ç½®æ–‡ä»¶è§£æå’Œç®¡ç† | <600 |
| `jslwatcher/internal/parser/parser.go` | æ—¥å¿—æ ¼å¼è§£æå™¨ | <800 |
| `jslwatcher/internal/watcher/watcher.go` | æ–‡ä»¶ç³»ç»Ÿç›‘æ§ | <800 |
| `jslwatcher/internal/client/client.go` | WebSocket å®¢æˆ·ç«¯ | <600 |

### éƒ¨ç½²å’Œé…ç½®

| æ–‡ä»¶è·¯å¾„ | ç”¨é€” |
|----------|------|
| `jslwatcher/scripts/jslwatcher.service` | systemd æœåŠ¡é…ç½® |
| `jslwatcher/scripts/install.sh` | ä¸€é”®å®‰è£…è„šæœ¬ |
| `jslwatcher/examples/jslwatcher.conf.example` | é…ç½®æ–‡ä»¶ç¤ºä¾‹ |

### æ–‡æ¡£

| æ–‡ä»¶è·¯å¾„ | ç”¨é€” | è¡Œæ•°é™åˆ¶ |
|----------|------|----------|
| `jslwatcher/README.md` | å®Œæ•´çš„ä½¿ç”¨æ–‡æ¡£å’ŒAPIè¯´æ˜ | <3000 |

### æ”¯æŒçš„æ—¥å¿—æ ¼å¼

1. **nginx-access**: Nginx è®¿é—®æ—¥å¿— (combined æ ¼å¼)
2. **nginx-error**: Nginx é”™è¯¯æ—¥å¿—
3. **java-log**: Java åº”ç”¨æ—¥å¿— (logback/log4j)
4. **php-error**: PHP é”™è¯¯æ—¥å¿—
5. **jsonlines**: JSON Lines æ ¼å¼

## ğŸš€ CI/CD é…ç½®

| æ–‡ä»¶è·¯å¾„ | ç”¨é€” |
|----------|------|
| `.github/workflows/release.yml` | GitHub Actions è‡ªåŠ¨æ„å»ºå’Œå‘å¸ƒ |

### æ„å»ºç›®æ ‡

- **server**: Linux/macOS/Windows å¤šå¹³å°äºŒè¿›åˆ¶
- **jslwatcher**: Linux å¤šæ¶æ„äºŒè¿›åˆ¶ (amd64/arm64/arm)

## ğŸ§ª æµ‹è¯•æ–‡ä»¶

### macOS åº”ç”¨æµ‹è¯•

| æ–‡ä»¶è·¯å¾„ | ç”¨é€” |
|----------|------|
| `FuturePanelTests/FuturePanelTests.swift` | å•å…ƒæµ‹è¯• |
| `FuturePanelUITests/FuturePanelUITests.swift` | UI è‡ªåŠ¨åŒ–æµ‹è¯• |
| `FuturePanelUITests/FuturePanelUITestsLaunchTests.swift` | å¯åŠ¨æµ‹è¯• |

## ğŸ“‹ é¡¹ç›®é…ç½®æ–‡ä»¶

| æ–‡ä»¶è·¯å¾„ | ç”¨é€” |
|----------|------|
| `FuturePanel.xcodeproj/` | Xcode é¡¹ç›®é…ç½® |
| `FuturePanel.xcodeproj/project.pbxproj` | é¡¹ç›®æ„å»ºé…ç½® |
| `FuturePanel.xcodeproj/project.xcworkspace/` | å·¥ä½œç©ºé—´é…ç½® |

## ğŸ“– æ–‡æ¡£æ–‡ä»¶

| æ–‡ä»¶è·¯å¾„ | ç”¨é€” | è¡Œæ•°é™åˆ¶ |
|----------|------|----------|
| `æ—¥å¿—é¢æ¿éœ€æ±‚1.0.md` | é¡¹ç›®éœ€æ±‚å’ŒåŠŸèƒ½è§„æ ¼è¯´æ˜ | <2000 |
| `PROJECT_STRUCTURE.md` | æœ¬æ–‡æ¡£ï¼Œé¡¹ç›®ç»“æ„è¯´æ˜ | <3000 |

## ğŸ”§ å¼€å‘è§„èŒƒ

### æ–‡ä»¶å¤§å°é™åˆ¶

ä¸ºäº†ä¿æŒä»£ç çš„å¯ç»´æŠ¤æ€§ï¼Œæˆ‘ä»¬è®¾å®šä»¥ä¸‹è§„èŒƒï¼š

- **æºä»£ç æ–‡ä»¶**: æœ€å¤§ 2000 è¡Œ
- **æ–‡æ¡£æ–‡ä»¶**: æœ€å¤§ 3000 è¡Œ
- **é…ç½®æ–‡ä»¶**: æ ¹æ®å®é™…éœ€è¦ï¼Œä¿æŒç®€æ´

### ä»£ç ç»„ç»‡åŸåˆ™

1. **å•ä¸€èŒè´£**: æ¯ä¸ªæ–‡ä»¶åªè´Ÿè´£ä¸€ä¸ªæ˜ç¡®çš„åŠŸèƒ½
2. **æ¨¡å—åŒ–**: ç›¸å…³åŠŸèƒ½ç»„ç»‡åœ¨åŒä¸€ç›®å½•ä¸‹
3. **åˆ†å±‚æ¶æ„**: æ¸…æ™°çš„åº”ç”¨å±‚ã€æœåŠ¡å±‚ã€æ•°æ®å±‚åˆ†ç¦»
4. **æ–‡æ¡£å®Œæ•´**: æ¯ä¸ªæ¨¡å—éƒ½æœ‰å¯¹åº”çš„æ–‡æ¡£è¯´æ˜

### å‘½åè§„èŒƒ

- **Swift æ–‡ä»¶**: PascalCase (å¦‚ `ContentView.swift`)
- **Go æ–‡ä»¶**: snake_case (å¦‚ `config.go`)
- **ç›®å½•**: kebab-case æˆ– lowercase (å¦‚ `jslwatcher`, `internal`)
- **é…ç½®æ–‡ä»¶**: dot notation (å¦‚ `jslwatcher.conf`)

## ğŸš¦ å¼€å‘æµç¨‹

### 1. æ–°åŠŸèƒ½å¼€å‘

1. åœ¨å¯¹åº”æ¨¡å—ç›®å½•ä¸‹åˆ›å»ºæ–°æ–‡ä»¶
2. ç¡®ä¿æ–‡ä»¶è¡Œæ•°ä¸è¶…è¿‡é™åˆ¶
3. æ›´æ–°æœ¬æ–‡æ¡£è®°å½•æ–°æ–‡ä»¶
4. ç¼–å†™å¯¹åº”çš„æµ‹è¯•
5. æ›´æ–°ç›¸å…³æ–‡æ¡£

### 2. æ–‡ä»¶æ‹†åˆ†åŸåˆ™

å½“æ–‡ä»¶è¶…è¿‡è¡Œæ•°é™åˆ¶æ—¶ï¼š

1. **æŒ‰åŠŸèƒ½æ‹†åˆ†**: å°†ä¸åŒåŠŸèƒ½æ‹†åˆ†åˆ°ä¸åŒæ–‡ä»¶
2. **æŒ‰å±‚æ¬¡æ‹†åˆ†**: å°†æ¨¡å‹ã€è§†å›¾ã€æœåŠ¡æ‹†åˆ†
3. **ä¿æŒæ¥å£ç®€å•**: æ‹†åˆ†åç¡®ä¿æ¨¡å—é—´æ¥å£æ¸…æ™°

### 3. ç‰ˆæœ¬å‘å¸ƒ

1. æ›´æ–°ç‰ˆæœ¬å· (éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬)
2. æ›´æ–° CHANGELOG
3. åˆ›å»º git tag (æ ¼å¼: `1.x.x`)
4. GitHub Actions è‡ªåŠ¨æ„å»ºå’Œå‘å¸ƒ

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

### ä»£ç è¡Œæ•°ç»Ÿè®¡ (ä¼°ç®—)

| ç»„ä»¶ | æ–‡ä»¶æ•° | ä»£ç è¡Œæ•° |
|------|--------|----------|
| macOS åº”ç”¨ | 8 | ~4000 |
| Go æœåŠ¡å™¨ | 3 | ~500 |
| JSLWatcher | 5 | ~3000 |
| é…ç½®å’Œè„šæœ¬ | 4 | ~800 |
| æ–‡æ¡£ | 3 | ~5000 |
| **æ€»è®¡** | **23** | **~13300** |

### æŠ€æœ¯æ ˆ

- **å‰ç«¯**: SwiftUI, Combine
- **åç«¯**: Go, Gorilla WebSocket
- **ç³»ç»Ÿ**: systemd, Linux
- **æ„å»º**: GitHub Actions, Xcode
- **åŒ…ç®¡ç†**: Go Modules, Swift Package Manager

## ğŸ”„ ç»´æŠ¤è®¡åˆ’

### å®šæœŸç»´æŠ¤

1. **ä¾èµ–æ›´æ–°**: æ¯æœˆæ£€æŸ¥å’Œæ›´æ–°ä¾èµ–åŒ…
2. **å®‰å…¨å®¡è®¡**: æ¯å­£åº¦è¿›è¡Œå®‰å…¨æ¼æ´æ‰«æ
3. **æ€§èƒ½ä¼˜åŒ–**: æ ¹æ®ä½¿ç”¨æƒ…å†µè¿›è¡Œæ€§èƒ½è°ƒä¼˜
4. **æ–‡æ¡£æ›´æ–°**: ä¿æŒæ–‡æ¡£ä¸ä»£ç åŒæ­¥

### ç›‘æ§æŒ‡æ ‡

1. **åº”ç”¨æ€§èƒ½**: å†…å­˜ä½¿ç”¨ã€CPU å ç”¨
2. **æœåŠ¡å¯ç”¨æ€§**: è¿æ¥çŠ¶æ€ã€å»¶è¿Ÿ
3. **é”™è¯¯ç‡**: æ—¥å¿—è§£æé”™è¯¯ã€è¿æ¥å¤±è´¥
4. **ç”¨æˆ·ä½“éªŒ**: ç•Œé¢å“åº”é€Ÿåº¦ã€åŠŸèƒ½å®Œæ•´æ€§

---

**æœ€åæ›´æ–°**: 2024å¹´12æœˆ
**ç»´æŠ¤è€…**: rocky
**é¡¹ç›®ç‰ˆæœ¬**: 1.0.0
