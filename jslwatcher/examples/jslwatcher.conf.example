# JSLWatcher 配置文件示例
# 配置文件使用 YAML 格式

# 通用配置
general:
  log_level: "info"          # 日志级别: debug, info, warn, error
  buffer_size: 1000          # 事件缓冲区大小
  retry_count: 3             # 连接重试次数
  retry_delay: "5s"          # 重试延迟时间
  max_file_size: "100MB"     # 单个日志文件最大监控大小

# 说明：服务器域名内置为 https://future.some.im 与 https://future.wxside.com
# 仅需配置要转发到的 URI 路径（paths），例如 /events/app1、/logs/errors 等

# 文件监控配置
files:
  # Nginx 访问日志
  - path: "/var/log/nginx/access.log"
    format: "nginx-access"           # 日志格式
    paths: ["/logs/access"]         # 将日志 POST 到的 URI 路径

  # Nginx 错误日志
  - path: "/var/log/nginx/error.log"
    format: "nginx-error"
    paths: ["/logs/errors"]

  # Java 应用日志
  - path: "/var/log/myapp/application.log"
    format: "java-log"
    paths: ["/logs/application"]

  # PHP 错误日志
  - path: "/var/log/php/error.log"
    format: "php-error"
    paths: ["/logs/php-errors"]

  # 自定义 JSON Lines 日志
  - path: "/var/log/custom/app.jsonl"
    format: "jsonlines"
    paths: ["/events/app1"]

  # 系统日志 (使用通用格式)
  - path: "/var/log/syslog"
    format: "jsonlines"               # 会尝试解析，失败时作为普通文本
    paths: ["/logs/system"]
